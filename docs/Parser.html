<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Parser</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Calidris</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) TrueBoxGuy 2022</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>https://github.com/TrueBoxGuy</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Parser</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Parsers that are ultimately used to form a 
list of <code><a href="Syntax.html#t:FileContents" title="Syntax">FileContents</a></code> from a directory.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Parser">Parser</a> = <a href="http://hackage.haskell.org/packages/archive/megaparsec/latest/doc/html/Text-Megaparsec.html#t:Parsec" title="Text.Megaparsec">Parsec</a> <a href="Error.html#t:Error" title="Error">Error</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:spaceConsumer">spaceConsumer</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> ()</li><li class="src short"><a href="#v:spaceConsumer-39-">spaceConsumer'</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> ()</li><li class="src short"><a href="#v:lexeme">lexeme</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> a -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> a</li><li class="src short"><a href="#v:lexeme-39-">lexeme'</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> a -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> a</li><li class="src short"><a href="#v:lexemeS">lexemeS</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> a -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> a</li><li class="src short"><a href="#v:symbol">symbol</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:symbol-39-">symbol'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:symbolS">symbolS</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:errAnn">errAnn</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> x -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:LocAnn" title="Syntax">LocAnn</a> x)</li><li class="src short"><a href="#v:reservedIdentifiers">reservedIdentifiers</a> :: [[<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]]</li><li class="src short"><a href="#v:identifierParser">identifierParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:LocAnn" title="Syntax">LocAnn</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>])</li><li class="src short"><a href="#v:identifierParser-39-">identifierParser'</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]</li><li class="src short"><a href="#v:expressionParser1">expressionParser1</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:Expr" title="Syntax">Expr</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>])</li><li class="src short"><a href="#v:expressionParser">expressionParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:Expr" title="Syntax">Expr</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>])</li><li class="src short"><a href="#v:moduleNameParser">moduleNameParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]</li><li class="src short"><a href="#v:importParser">importParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="Syntax.html#t:ImportStatement" title="Syntax">ImportStatement</a></li><li class="src short"><a href="#v:mainStatementParser">mainStatementParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:MainStatement" title="Syntax">MainStatement</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>])</li><li class="src short"><a href="#v:fileContentsParser">fileContentsParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="Syntax.html#t:FileContents" title="Syntax">FileContents</a></li><li class="src short"><a href="#v:getFiles">getFiles</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]</li><li class="src short"><a href="#v:input">input</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Error.html#t:CustomBundle" title="Error">CustomBundle</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Syntax.html#t:FileContents" title="Syntax">FileContents</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Parser" class="def">Parser</a> = <a href="http://hackage.haskell.org/packages/archive/megaparsec/latest/doc/html/Text-Megaparsec.html#t:Parsec" title="Text.Megaparsec">Parsec</a> <a href="Error.html#t:Error" title="Error">Error</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> <a href="#t:Parser" class="selflink">#</a></p><div class="doc"><p>The type used for the language parser.</p></div></div><div class="top"><p class="src"><a id="v:spaceConsumer" class="def">spaceConsumer</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> () <a href="#v:spaceConsumer" class="selflink">#</a></p><div class="doc"><p>Consumes whitespace, line comments beginning with <code>--</code>, 
 and block comments, which have start indicated by <code>{-</code>
 and end indicated by <code>-}</code>.</p></div></div><div class="top"><p class="src"><a id="v:spaceConsumer-39-" class="def">spaceConsumer'</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> () <a href="#v:spaceConsumer-39-" class="selflink">#</a></p><div class="doc"><p>Consumes horizontal whitespace, line comments beginning with <code>--</code>, 
 and block comments, which have start indicated by <code>{-</code>
 and end indicated by <code>-}</code>.</p></div></div><div class="top"><p class="src"><a id="v:lexeme" class="def">lexeme</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> a -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> a <a href="#v:lexeme" class="selflink">#</a></p><div class="doc"><p>Consumes whitespace using <code><a href="Parser.html#v:spaceConsumer" title="Parser">spaceConsumer</a></code> after running a parser.</p></div></div><div class="top"><p class="src"><a id="v:lexeme-39-" class="def">lexeme'</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> a -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> a <a href="#v:lexeme-39-" class="selflink">#</a></p><div class="doc"><p>Consumes whitespace using 'spaceConsumer'' after running a parser.</p></div></div><div class="top"><p class="src"><a id="v:lexemeS" class="def">lexemeS</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> a -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> a <a href="#v:lexemeS" class="selflink">#</a></p><div class="doc"><p>Run a parser and then consume whitespace using <code><a href="Parser.html#v:spaceConsumer" title="Parser">spaceConsumer</a></code>.
 Also ensures that the string is followed by either whitespace, 
 or one of the characters &quot;,:;=()&quot;. </p></div></div><div class="top"><p class="src"><a id="v:symbol" class="def">symbol</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:symbol" class="selflink">#</a></p><div class="doc"><p>Parses a string and then consume whitespace using <code><a href="Parser.html#v:spaceConsumer" title="Parser">spaceConsumer</a></code>. </p></div></div><div class="top"><p class="src"><a id="v:symbol-39-" class="def">symbol'</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:symbol-39-" class="selflink">#</a></p><div class="doc"><p>Parses a string and then consume whitespace using 'spaceConsumer''. </p></div></div><div class="top"><p class="src"><a id="v:symbolS" class="def">symbolS</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:symbolS" class="selflink">#</a></p><div class="doc"><p>Parses a string using <code><a href="Parser.html#v:lexemeS" title="Parser">lexemeS</a></code>. </p></div></div><div class="top"><p class="src"><a id="v:errAnn" class="def">errAnn</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> x -&gt; <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:LocAnn" title="Syntax">LocAnn</a> x) <a href="#v:errAnn" class="selflink">#</a></p><div class="doc"><p>Annotates a parsed value with <code><a href="Syntax.html#t:LocAnn" title="Syntax">LocAnn</a></code>. </p></div></div><div class="top"><p class="src"><a id="v:reservedIdentifiers" class="def">reservedIdentifiers</a> :: [[<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]] <a href="#v:reservedIdentifiers" class="selflink">#</a></p><div class="doc"><p>Names which can not be defined within the language. </p></div></div><div class="top"><p class="src"><a id="v:identifierParser" class="def">identifierParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:LocAnn" title="Syntax">LocAnn</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]) <a href="#v:identifierParser" class="selflink">#</a></p><div class="doc"><p>Parses an identifier, which consists of a list of strings
 (consisting of characters that are either alphanumeric or one of <code>_+*/-~$!</code>) 
 of length at least 1, and also ensures this identifier is not reserved. </p></div></div><div class="top"><p class="src"><a id="v:identifierParser-39-" class="def">identifierParser'</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>] <a href="#v:identifierParser-39-" class="selflink">#</a></p><div class="doc"><p>'identifierParser'' without an annotation. </p></div></div><div class="top"><p class="src"><a id="v:expressionParser1" class="def">expressionParser1</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:Expr" title="Syntax">Expr</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]) <a href="#v:expressionParser1" class="selflink">#</a></p><div class="doc"><p>Parses expressions within the language, with the exception 
 of top level applications. Such expressions are parsed separately 
 to ensure left associativity. </p></div></div><div class="top"><p class="src"><a id="v:expressionParser" class="def">expressionParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:Expr" title="Syntax">Expr</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]) <a href="#v:expressionParser" class="selflink">#</a></p><div class="doc"><p>Parses top level applications and combines them 
 in a left recursive manner. </p></div></div><div class="top"><p class="src"><a id="v:moduleNameParser" class="def">moduleNameParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>] <a href="#v:moduleNameParser" class="selflink">#</a></p><div class="doc"><p>Parses a declaration of the module name.</p></div></div><div class="top"><p class="src"><a id="v:importParser" class="def">importParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="Syntax.html#t:ImportStatement" title="Syntax">ImportStatement</a> <a href="#v:importParser" class="selflink">#</a></p><div class="doc"><p>Parses an import statement, which is either of the form 
 <code>import module as qualifier</code> or <code>import module</code>.</p></div></div><div class="top"><p class="src"><a id="v:mainStatementParser" class="def">mainStatementParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> (<a href="Syntax.html#t:MainStatement" title="Syntax">MainStatement</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>]) <a href="#v:mainStatementParser" class="selflink">#</a></p><div class="doc"><p>Parses the main statements within a file. 
 All assumptions are of the form <code>x : T</code>, with 
 definitions being either of the form <code>x = e</code>
 or <code>x : T = e</code>.</p></div></div><div class="top"><p class="src"><a id="v:fileContentsParser" class="def">fileContentsParser</a> :: <a href="Parser.html#t:Parser" title="Parser">Parser</a> <a href="Syntax.html#t:FileContents" title="Syntax">FileContents</a> <a href="#v:fileContentsParser" class="selflink">#</a></p><div class="doc"><p>Parses the module name, import statements, and main statements 
 within a file. </p></div></div><div class="top"><p class="src"><a id="v:getFiles" class="def">getFiles</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a>] <a href="#v:getFiles" class="selflink">#</a></p><div class="doc"><p>Give names of files in a directory (relative to that directory)
 in the data directory. All names are given relative to this root
 directory, and the presence of symbolic links within
 this root directory will lead to an error being thrown. </p></div></div><div class="top"><p class="src"><a id="v:input" class="def">input</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/mtl/latest/doc/html/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Error.html#t:CustomBundle" title="Error">CustomBundle</a> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Syntax.html#t:FileContents" title="Syntax">FileContents</a>] <a href="#v:input" class="selflink">#</a></p><div class="doc"><p>Parses all the file contents within a root directory 
 within the data directory. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>